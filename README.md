# Habit Tracker API

Полноценный backend-сервис для отслеживания привычек и напоминаний, с возможностью рассылки через Telegram.

---

## Аутентификация

- Регистрация / авторизация через email (JWT).
- Доступ к привычкам строго по владельцу.
- Публичные привычки доступны всем для просмотра, но только в режиме read-only.

---

## Основной функционал

### Привычки

- Привычка описывается формулой:
  Я буду [действие] в [время] в [место]

---

- **Поля модели:**
- `пользователь` — владелец привычки
- `место` — место выполнения
- `время` — время выполнения
- `действие` — описание действия
- `признак_приятной_привычки` — булево значение
- `связанная_привычка` — FK на приятную привычку (опционально)
- `вознаграждение` — текстовое описание (опционально)
- `периодичность` — количество дней (по умолчанию: 1)
- `время_на_выполнение` — в секундах (до 120 секунд)
- `признак_публичности` — доступна ли привычка всем

---

- **Валидация:**
- Нельзя одновременно указать вознаграждение и связанную привычку
- Время на выполнение — не более 120 секунд
- Привычка должна выполняться хотя бы раз в 7 дней
- В связанные привычки можно указывать только приятные
- Приятная привычка не может иметь награды или связанной привычки

---

## Эндпоинты

- `/api/register/` — регистрация
- `/api/token/` — получение JWT
- `/api/habits/` — список привычек текущего пользователя (с пагинацией)
- `/api/habits/public/` — публичные привычки (только просмотр)
- `/api/habits/create/` — создание новой привычки
- `/api/habits/<id>/update/` — редактирование
- `/api/habits/<id>/delete/` — удаление

---

## Пагинация

- Пагинация реализована через `PageNumberPagination`
- Кол-во привычек на странице: **5**

---

## Telegram-интеграция

- Уведомления о привычках отправляются через Telegram.
- Напоминание приходит в заданное пользователем время.
- Для интеграции используется Telegram Bot API.
- Интеграция настроена через `Celery + Redis` для фоновой отправки сообщений.

---

## Технологии

- `Django` / `DRF`
- `djoser` / `SimpleJWT`
- `Celery + Redis`
- `Telegram Bot API`
- `drf-yasg` — автогенерация документации Swagger
- `django-cors-headers` — для CORS-политик

---

## Документация

- Swagger UI доступен по адресу: `/swagger/`
- ReDoc: `/redoc/`

---

## Запуск проекта

```bash
# Установка зависимостей
pip install -r requirements.txt

# Применение миграций
python manage.py migrate

# Запуск Redis (если локально)
redis-server

# Запуск Celery
celery -A config worker -l info

# Запуск Django сервера
python manage.py runserver
